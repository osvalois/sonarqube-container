{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE",
    "dockerfilePath": "Dockerfile.railway"
  },
  "deploy": {
    "startCommand": null,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 3,
    "healthcheckPath": "/api/system/status",
    "healthcheckTimeout": 300
  },
  "envVars": {
    "PORT": {
      "description": "Port for SonarQube web interface",
      "default": "9000"
    },
    "SONAR_JDBC_URL": {
      "description": "PostgreSQL connection URL",
      "required": true
    },
    "SONAR_JDBC_USERNAME": {
      "description": "Database username",
      "required": true
    },
    "SONAR_JDBC_PASSWORD": {
      "description": "Database password",
      "required": true
    },
    "SONAR_ES_BOOTSTRAP_CHECKS_DISABLE": {
      "description": "Disable Elasticsearch bootstrap checks",
      "default": "true"
    },
    "RUN_AS_ROOT": {
      "description": "Allow running as root (required for Railway)",
      "default": "true"
    }
  }
}